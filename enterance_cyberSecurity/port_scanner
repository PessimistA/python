import socket
from logging import exception

ip = input("enter ip idress")
timeout = float(input("enter a time limit"))
for port in range(1,5000):
    try:
        s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
        socket.setdefaulttimeout(timeout)
        s.connect((ip,port))
        print(str(port),":open")
    except Exception as e:
        print(str(port),":closed")
        pass
    finally:
        s.close()
